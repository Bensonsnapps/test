clear
clc
A=[0 1 1 0 0 0 0 0 0 0;
   1 0 0 1 1 0 0 0 0 0;
   1 0 0 1 0 0 1 0 0 0;
   0 1 1 0 1 1 0 1 0 0;
   0 1 0 1 0 0 0 1 0 0;      %adjacency matrix
   0 0 0 1 0 0 1 1 1 1;
   0 0 1 0 0 1 0 0 0 1;
   0 0 0 1 1 1 0 0 1 0;
   0 0 0 0 0 1 0 1 0 1;
   0 0 0 0 0 1 1 0 1 0];
w = [17.17, 12.28, 18.42, 7.06, 10.85, 18.91, 18.76, 15.70, 14.28, 10.15, 19.04, 16.97, 15.96, 14.70, 17.50, 10.97, 6.25, 17.53, 9.84];
b = [0.0935, 0.0517, 0.1007, 0.0561, 0.0540, 0.1414, 0.0793, 0.1064, 0.0850, 0.0460, 0.0650, 0.0549, 0.0619, 0.0633, 0.0607, 0.2272, 0.1224, 0.0826, 0.0869];
alpha = [0.0213, 0.0174, 0.0166, 0.0326, 0.0169, 0.0146, 0.0241, 0.0351, 0.0326, 0.0524];
beta = [8.71, 5.63, 7.58, 10.24, 6.53, 12.25, 11.29, 10.30, 8.26, 5.30];
PGen_max = [113.23 179.1 90.03 106.41 193.80 37.19 195.4 62.17 143.41 125];
Pload_max = [91.79 147.29 91.41 62.96 100.53 66.88 118.35 73.81 84.00 110.32 146.46 62.61 128.91 116.08 144.04 24.15 66.39 106.14 56.60];
lambda = [10., 9., 11., 15., 8., 14., 13., 14., 10., 7.];
group = [1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8 9 9 10];
% A = [0, 0.25, 0.25, 0.25, 0.25;
%      0.25, 0, 0.25, 0.25, 0.25;
%      0.25, 0.25, 0, 0.25, 0.25;
%      0.25, 0.25, 0.25, 0, 0.25;
%      0.25, 0.25, 0.25, 0.25, 0];
% w = [17.17, 12.28, 18.42, 7.06, 10.85, 18.91, 18.76];
% b = [0.0935, 0.0741, 0.1007, 0.0561, 0.0540, 0.1414, 0.0793];
% alpha = [0.0312, 0.0417, 0.0661, 0.0162, 0.0391];
% beta = [5.71, 6.53, 7.58, 2.24, 8.53];
% lambda = [15., 10., 13., 7., 12.];
% group = [1, 2, 3, 4, 4, 5, 5];
% PGen_max = [113.23, 179.10, 90.03, 106.41, 193.80];
% Pload_max = [91.79, 147.29, 91.41, 62.96, 100.53, 66.88, 118.35];
deltax = 0.03;
Ki = 1;

n_gen = length(PGen_max);
n_load = length(Pload_max);
deltaPT = ones(1, n_gen);
sumPT = lambda;
iteration = 0;